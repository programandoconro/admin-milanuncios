{"ast":null,"code":"var _jsxFileName = \"/home/sony/admin-milanuncios/src/components/Dashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"./App.css\";\nimport Iframe from \"react-iframe\";\n\nconst db = () => firebase.database();\n\nfunction Dashboard() {\n  const [reservas, handleReservas] = useState([]);\n  const [item, setItem] = useState(Number(0));\n  const [input, handleInput] = useState(\"\");\n  const [inputDelete, handleInputDelete] = useState(\"\");\n  useEffect(() => {\n    db().ref(\"/\");\n  });\n\n  const logOut = () => {\n    firebase.auth().signOut().then(function () {}, function (error) {\n      console.log(error);\n    });\n  };\n\n  const myData = JSON.stringify(reservas);\n  const myDashboard = myData.split(\",\").map((it, i) => it.substring(it.length - 12, it.length - 2));\n  const productDescription = myData.split(\",\").map((it, i) => it);\n  const productID = myDashboard[item];\n\n  if (productID !== undefined) {\n    productID.slice(0, -1);\n  }\n\n  const nextProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) + Number(1));\n      db().ref(\"/\").on(\"value\", handleReservas);\n    }\n\n    console.log(productID);\n  };\n\n  const previousProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) - Number(1));\n      db().ref(\"/\").on(\"value\", handleReservas);\n    }\n  };\n\n  const showProducts = () => {\n    const product = \"https://www.milanuncios.com/renovar/?id=\" + productID;\n    console.log(product);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, productDescription[item]), React.createElement(\"button\", {\n      className: \"myButton\",\n      onClick: () => nextProduct(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \" Siguiente\"), React.createElement(Iframe, {\n      height: \"500px\",\n      width: \"310px\",\n      url: product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"myButton\",\n      onClick: () => previousProduct(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" Regresar\"));\n  };\n\n  const writeNewID = newID => {\n    db().ref(\"/\").push({\n      newID\n    }).catch(error => {\n      console.log(\"error \", error);\n    });\n  };\n\n  const deleteProduct = name => {\n    db().ref(name).remove();\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, showProducts(), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Escriba el ID del producto a AGREGAR\"), React.createElement(\"input\", {\n    value: input,\n    onChange: e => handleInput(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => writeNewID(input),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Enviar\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Escriba la KEY del producto a ELIMINAR\"), React.createElement(\"input\", {\n    value: inputDelete,\n    onChange: e => handleInputDelete(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => deleteProduct(inputDelete),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \" Eliminar \"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => logOut(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Log Out\"));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/sony/admin-milanuncios/src/components/Dashboard.js"],"names":["React","useState","useEffect","firebase","Iframe","db","database","Dashboard","reservas","handleReservas","item","setItem","Number","input","handleInput","inputDelete","handleInputDelete","ref","logOut","auth","signOut","then","error","console","log","myData","JSON","stringify","myDashboard","split","map","it","i","substring","length","productDescription","productID","undefined","slice","nextProduct","alert","on","previousProduct","showProducts","product","writeNewID","newID","push","catch","deleteProduct","name","remove","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"./App.css\";\nimport Iframe from \"react-iframe\";\n\nconst db = () => firebase.database();\n\nfunction Dashboard() {\n  const [reservas, handleReservas] = useState([]);\n  const [item, setItem] = useState(Number(0));\n  const [input, handleInput] = useState(\"\");\n  const [inputDelete, handleInputDelete] = useState(\"\");\n\n  useEffect(() => {\n    db().ref(\"/\");\n  });\n\n  const logOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(\n        function() {},\n        function(error) {\n          console.log(error);\n        }\n      );\n  };\n\n  const myData = JSON.stringify(reservas);\n  const myDashboard = myData\n    .split(\",\")\n    .map((it, i) => it.substring(it.length - 12, it.length - 2));\n\n  const productDescription = myData.split(\",\").map((it, i) => it);\n\n  const productID = myDashboard[item];\n\n  if (productID !== undefined){\n    productID.slice(0,  - 1)\n  } \n  const nextProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) + Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n    console.log(productID)\n  };\n\n  const previousProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) - Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n  };\n\n  const showProducts = () => {\n    const product = \"https://www.milanuncios.com/renovar/?id=\" + productID;\n    console.log(product);\n    return (\n      <div>\n        <p>{productDescription[item]}</p>\n        <button className='myButton' onClick={() => nextProduct()}> Siguiente</button>\n        <Iframe height=\"500px\" width='310px' url={product}></Iframe>\n        <button className='myButton' onClick={() => previousProduct()}> Regresar</button>\n       \n      </div>\n    );\n  };\n\n  const writeNewID = newID => {\n    db()\n      .ref(\"/\")\n      .push({\n        newID\n      })\n      .catch(error => {\n        console.log(\"error \", error);\n      });\n  };\n\n  const deleteProduct = name => {\n    db()\n      .ref(name)\n      .remove();\n  };\n\n  return (\n    <div>\n      {showProducts()}\n      <h5>Escriba el ID del producto a AGREGAR</h5>\n      <input value={input} onChange={e => handleInput(e.target.value)} />\n      <br />\n      <button onClick={() => writeNewID(input)}>Enviar</button>\n      <br />\n      <h5>Escriba la KEY del producto a ELIMINAR</h5>\n      <input\n        value={inputDelete}\n        onChange={e => handleInputDelete(e.target.value)}\n      />\n      <br />\n      <button onClick={() => deleteProduct(inputDelete)}> Eliminar </button>\n      <hr />\n      <button onClick={() => logOut()}>Log Out</button>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}